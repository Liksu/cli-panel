/**
 * cli-panel - Command line interface for angular sites
 * @version v0.1.3
 * @link http://liksu.github.io/cli-panel/
 * @license MIT
 */
"use strict";function _typeof(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n}window.cli=new function(){this.cache={commandInput:null,buffer:null,panel:null,show:!1},this.history=[],this.settings={prompt:"> "},this.workers={pre:[],commands:{},post:[],keys:{}},this.templates={},this.addHtml=function(n,t,e){this.templates[n]={html:t,selector:e||"body"}}.bind(this),document.addEventListener("DOMContentLoaded",function(){var n=this.templates,t={};Object.keys(n).forEach(function(e){var i=n[e].selector;t[i]||(t[i]=document.createElement("div"),t[i].innerHTML=""),t[i].innerHTML+=n[e].html}),Object.keys(t).forEach(function(n){document.querySelector(n).appendChild(t[n])}),this.cache.panel=document.querySelector(".cli .cli-panel"),this.cache.commandInput=this.cache.panel.querySelector(".cli .cli-line .cli-command"),this.cache.buffer=this.cache.panel.querySelector(".cli-buffer"),this.toggle(this.cache.show)}.bind(this)),document.addEventListener("keydown",function(n){if(192===n.keyCode){if("INPUT"===n.target.nodeName&&n.target!==this.cache.commandInput)return;n.target===this.cache.commandInput&&n.preventDefault(),this.toggle()}else 13===n.keyCode&&n.target===this.cache.commandInput&&(cli.print(cli.settings.prompt+this.cache.commandInput.value),cli.run(this.cache.commandInput.value),this.cache.buffer.scrollTop=this.cache.buffer.scrollHeight,this.cache.commandInput.value="")}.bind(this)),this.show=function(){this.cache.panel.className+=" show",this.cache.show=!0,this.focus()}.bind(this),this.hide=function(){this.cache.panel.className=this.cache.panel.className.replace(/\s*show/g,""),this.cache.show=!1}.bind(this),this.toggle=function(n){void 0===n&&(n=!this.cache.show),n?this.show():this.hide()}.bind(this),this.focus=function(){var n=this.cache.commandInput;setTimeout(function(){var t=n.value.length;if(n.setSelectionRange)n.setSelectionRange(t,t);else if("number"==typeof n.selectionStart)n.selectionStart=n.selectionEnd=t;else if("undefined"!=typeof n.createTextRange){n.focus();var e=n.createTextRange();e.collapse(!0),e.moveEnd(t),e.moveStart(t),e.select()}n.focus()},0)}.bind(this),this.print=function(n){this.cache.buffer.innerHTML+=n.replace(/\t/g,"    ")+"\n"}.bind(this),this.run=function(n){var t=this;this.history.push(n);var e={input:n,original:n,command:null,argv:{},result:null},i=new Promise(function(n,t){return n(e)});return this.workers.pre.forEach(function(n){return n.forEach(function(n){i=i.then(function(t){return n.worker(t)})})}),i=i.then(function(n){return new Promise(function(e,i){var o;return n.command&&(o=t.workers.commands[n.command])?e(o.worker(n)).then(function(t){return n=t||n}):e(n)})}),this.workers.post.forEach(function(n){return n.forEach(function(n){i=i.then(function(t){return n.worker(t)})})}),i}.bind(this);var n=function(n,t,e,i,o){o||(o=0),void 0===i&&"function"==typeof e&&(i=e,e=null);var s={name:t,description:e,worker:i};"command"===n||"keys"===n?this.workers.commands[t]=s:(this.workers[n][o]||(this.workers[n][o]=[]),this.workers[n][o].push(s))}.bind(this);this.command=n.bind(this,"command"),this.preprocessor=n.bind(this,"pre"),this.postprocessor=n.bind(this,"post")},function(n){}(window.cli),function(n){n.command("help","Display this list",function(t){n.print("List of available commands:"),Object.keys(n.workers.commands).sort().forEach(function(t){var e=n.workers.commands[t].description;n.print(["	",t,e?"- "+e:""].join(" "))})})}(window.cli),function(n){}(window.cli),function(n){}(window.cli),function(n){}(window.cli),function(n){}(window.cli),function(n){function t(n){var t={_:[]};if(!n)return t;var e=n.match(/^(.*?)\s+\-\-\s+(.*)$/);if(e&&(n=e[1],e=e[2]),!n)return t._=[e],t;for(var i=n.split(""),o=[],s=!1,c=!1,r=[],a=0;a<=i.length;a++)if("\\"!==i[a])if(s)s=!1;else{if('"'===i[a]||"'"===i[a]){if(!c){o.push(r.join("").trim()),r=[],c={"char":i[a],position:a,text:[]};continue}if(c["char"]===i[a]){c.text=c.text.join(""),o.push(c),c=!1;continue}}c?c.text.push(i[a]):r.push(i[a])}else s=!0;for(o.push(r.join("").trim()),o=o.map(function(n){return"string"==typeof n?n.split(/\s+|=/):n}),o=[].concat.apply([],o),o=o.map(function(n){if(/^\-([^-]+)$/.test(n))return{flags:RegExp.$1.split("")};if(/^\-\-(.+)$/.test(n)){var t=RegExp.$1;return t=t.split("-").map(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join(""),t=t.charAt(0).toLowerCase()+t.slice(1),{param:t}}return n}),o=o.map(function(n){return n.text||n}),o.push(e);o.length;){var l=o.shift();if(l)if("object"!==("undefined"==typeof l?"undefined":_typeof(l)))t._.push(l);else{var h=l.param;if(l.flags)for(h=l.flags.pop();l.flags.length;)t[l.flags.shift()]=!0;if("string"==typeof o[0]){t[h]=o.shift(),!isNaN(parseFloat(t[h]))&&isFinite(t[h])&&(t[h]=+t[h]);var u={"true":!0,"false":!1,"null":null,undefined:void 0};u.hasOwnProperty(t[h])&&(t[h]=u[t[h]])}else t[h]=!0}}return t}n.preprocessor("argv","Split command line to arguments",function(e){if(!e.input)return e;e.command=null;var i=Object.keys(n.workers.commands).sort(function(n,t){return t.length-n.length});return i.some(function(n){return 0===e.input.indexOf(n)&&(e.command=n,e.input=e.input.replace(n,"").trim()),e.command}),e.command&&(e.argv=t(e.input),e.input=""),e})}(window.cli),function(n){n.addHtml("templates/panel.html",'<div class="cli"><div onclick="focus()" class="cli-panel show"><div class="cli-history"><span class="cli-buffer"></span><span class="cli-loader hide_element"></span></div><div class="cli-line"><span class="cli-prompt"></span><input type="text" autofocus="autofocus" class="cli-command"/></div></div></div>',"body")}(window.cli),!function(){var n=".cli {\n  max-height: 64%; }\n  .cli-panel {\n    height: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    color: white;\n    font: 16px monospace;\n    background: rgba(0, 0, 0, 0.8);\n    line-height: 20px;\n    transition: height 0.64s linear; }\n  .cli-panel.show {\n    height: 64%; }\n  .cli-history {\n    overflow: auto;\n    white-space: pre-wrap;\n    position: absolute;\n    bottom: 20px; }\n  .cli-line {\n    position: absolute;\n    bottom: 0;\n    height: 20px;\n    width: 100%; }\n  .cli-command {\n    background: none;\n    border: 0;\n    color: white;\n    outline: none;\n    font: 16px monospace;\n    padding-left: 20px;\n    width: 100%;\n    box-sizing: border-box;\n    margin-left: -20px; }\n  .cli .hide_element {\n    display: none; }\n",t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}();